Database connected
Server listening at http://localhost:3000
[nodeMailer] Gmail transporter verified (smtp.gmail.com:587)
[2026-02-24T17:06:22.864Z] GET /api/show/movies/available
Headers: { host: 'localhost:3000', 'user-agent': 'curl/8.7.1', accept: '*/*' }
[DEBUG] Movie model collection: movies_new
[DEBUG] Movie model name: MovieNew
[DEBUG] Mongoose model count: 0
[DEBUG] Mongoose filtered count: 0
[getAvailableMovies] showMovieIds: 0
[getAvailableMovies] No shows found, returning all movies
[getAvailableMovies] Total movies in DB: 0
[getAvailableMovies] Retrieved movies: 0
[2026-02-24T17:06:37.339Z] GET /api/show/all
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  'sec-ch-ua-platform': '"macOS"',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  accept: 'application/json, text/plain, */*',
  'sec-ch-ua': '"Not:A-Brand";v="99", "Google Chrome";v="145", "Chromium";v="145"',
  dnt: '1',
  'sec-ch-ua-mobile': '?0',
  origin: 'http://localhost:5173',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8'
}
[2026-02-24T17:06:37.342Z] GET /api/show/upcoming-movies
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  'sec-ch-ua-platform': '"macOS"',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  accept: 'application/json, text/plain, */*',
  'sec-ch-ua': '"Not:A-Brand";v="99", "Google Chrome";v="145", "Chromium";v="145"',
  dnt: '1',
  'sec-ch-ua-mobile': '?0',
  origin: 'http://localhost:5173',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8',
  'if-none-match': 'W/"1c-MPNkxx6nvwRX//m4eoaOkWn+s/M"'
}
[2026-02-24T17:06:37.363Z] GET /api/show/movies
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  'sec-ch-ua-platform': '"macOS"',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  accept: 'application/json, text/plain, */*',
  'sec-ch-ua': '"Not:A-Brand";v="99", "Google Chrome";v="145", "Chromium";v="145"',
  dnt: '1',
  'sec-ch-ua-mobile': '?0',
  origin: 'http://localhost:5173',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8',
  'if-none-match': 'W/"1c-MPNkxx6nvwRX//m4eoaOkWn+s/M"'
}
[2026-02-24T17:06:37.365Z] OPTIONS /api/admin/is-admin
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  accept: '*/*',
  'access-control-request-method': 'GET',
  'access-control-request-headers': 'authorization',
  origin: 'http://localhost:5173',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  'sec-fetch-mode': 'cors',
  'sec-fetch-site': 'same-site',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8'
}
[2026-02-24T17:06:37.366Z] OPTIONS /api/user/favorites
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  accept: '*/*',
  'access-control-request-method': 'GET',
  'access-control-request-headers': 'authorization',
  origin: 'http://localhost:5173',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  'sec-fetch-mode': 'cors',
  'sec-fetch-site': 'same-site',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8'
}
[2026-02-24T17:06:37.367Z] GET /api/admin/is-admin
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  'sec-ch-ua-platform': '"macOS"',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5OWRkYTUyNTIwMDFjNDNlMTI4ZDE5YyIsInJvbGUiOiJjdXN0b21lciIsImlhdCI6MTc3MTk1MjcyMiwiZXhwIjoxNzcyNTU3NTIyfQ.ajQt-kwH0atOzzBhry9iFtQ9sSeNHQn9h871t_adPN4',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  accept: 'application/json, text/plain, */*',
  'sec-ch-ua': '"Not:A-Brand";v="99", "Google Chrome";v="145", "Chromium";v="145"',
  dnt: '1',
  'sec-ch-ua-mobile': '?0',
  origin: 'http://localhost:5173',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8'
}
[2026-02-24T17:06:37.368Z] GET /api/user/favorites
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  'sec-ch-ua-platform': '"macOS"',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5OWRkYTUyNTIwMDFjNDNlMTI4ZDE5YyIsInJvbGUiOiJjdXN0b21lciIsImlhdCI6MTc3MTk1MjcyMiwiZXhwIjoxNzcyNTU3NTIyfQ.ajQt-kwH0atOzzBhry9iFtQ9sSeNHQn9h871t_adPN4',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  accept: 'application/json, text/plain, */*',
  'sec-ch-ua': '"Not:A-Brand";v="99", "Google Chrome";v="145", "Chromium";v="145"',
  dnt: '1',
  'sec-ch-ua-mobile': '?0',
  origin: 'http://localhost:5173',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8'
}
[2026-02-24T17:06:40.103Z] GET /api/show/all
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  'sec-ch-ua-platform': '"macOS"',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  accept: 'application/json, text/plain, */*',
  'sec-ch-ua': '"Not:A-Brand";v="99", "Google Chrome";v="145", "Chromium";v="145"',
  dnt: '1',
  'sec-ch-ua-mobile': '?0',
  origin: 'http://localhost:5173',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8'
}
[2026-02-24T17:06:40.105Z] GET /api/show/upcoming-movies
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  'sec-ch-ua-platform': '"macOS"',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  accept: 'application/json, text/plain, */*',
  'sec-ch-ua': '"Not:A-Brand";v="99", "Google Chrome";v="145", "Chromium";v="145"',
  dnt: '1',
  'sec-ch-ua-mobile': '?0',
  origin: 'http://localhost:5173',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8',
  'if-none-match': 'W/"1c-MPNkxx6nvwRX//m4eoaOkWn+s/M"'
}
[2026-02-24T17:06:40.118Z] GET /api/show/movies
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  'sec-ch-ua-platform': '"macOS"',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  accept: 'application/json, text/plain, */*',
  'sec-ch-ua': '"Not:A-Brand";v="99", "Google Chrome";v="145", "Chromium";v="145"',
  dnt: '1',
  'sec-ch-ua-mobile': '?0',
  origin: 'http://localhost:5173',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8',
  'if-none-match': 'W/"1c-MPNkxx6nvwRX//m4eoaOkWn+s/M"'
}
[2026-02-24T17:06:40.121Z] GET /api/admin/is-admin
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  'sec-ch-ua-platform': '"macOS"',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5OWRkYTUyNTIwMDFjNDNlMTI4ZDE5YyIsInJvbGUiOiJjdXN0b21lciIsImlhdCI6MTc3MTk1MjcyMiwiZXhwIjoxNzcyNTU3NTIyfQ.ajQt-kwH0atOzzBhry9iFtQ9sSeNHQn9h871t_adPN4',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  accept: 'application/json, text/plain, */*',
  'sec-ch-ua': '"Not:A-Brand";v="99", "Google Chrome";v="145", "Chromium";v="145"',
  dnt: '1',
  'sec-ch-ua-mobile': '?0',
  origin: 'http://localhost:5173',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8'
}
[2026-02-24T17:06:40.123Z] GET /api/user/favorites
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  'sec-ch-ua-platform': '"macOS"',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5OWRkYTUyNTIwMDFjNDNlMTI4ZDE5YyIsInJvbGUiOiJjdXN0b21lciIsImlhdCI6MTc3MTk1MjcyMiwiZXhwIjoxNzcyNTU3NTIyfQ.ajQt-kwH0atOzzBhry9iFtQ9sSeNHQn9h871t_adPN4',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  accept: 'application/json, text/plain, */*',
  'sec-ch-ua': '"Not:A-Brand";v="99", "Google Chrome";v="145", "Chromium";v="145"',
  dnt: '1',
  'sec-ch-ua-mobile': '?0',
  origin: 'http://localhost:5173',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8'
}
[2026-02-24T17:06:57.741Z] OPTIONS /api/user/login
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  accept: '*/*',
  'access-control-request-method': 'POST',
  'access-control-request-headers': 'content-type',
  origin: 'http://localhost:5173',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  'sec-fetch-mode': 'cors',
  'sec-fetch-site': 'same-site',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8'
}
[2026-02-24T17:06:57.743Z] POST /api/user/login
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  'content-length': '56',
  'sec-ch-ua-platform': '"macOS"',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  accept: 'application/json, text/plain, */*',
  'sec-ch-ua': '"Not:A-Brand";v="99", "Google Chrome";v="145", "Chromium";v="145"',
  'content-type': 'application/json',
  dnt: '1',
  'sec-ch-ua-mobile': '?0',
  origin: 'http://localhost:5173',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8'
}
[2026-02-24T17:07:03.588Z] OPTIONS /api/user/login
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  accept: '*/*',
  'access-control-request-method': 'POST',
  'access-control-request-headers': 'content-type',
  origin: 'http://localhost:5173',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  'sec-fetch-mode': 'cors',
  'sec-fetch-site': 'same-site',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8'
}
[2026-02-24T17:07:03.589Z] POST /api/user/login
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  'content-length': '56',
  'sec-ch-ua-platform': '"macOS"',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  accept: 'application/json, text/plain, */*',
  'sec-ch-ua': '"Not:A-Brand";v="99", "Google Chrome";v="145", "Chromium";v="145"',
  'content-type': 'application/json',
  dnt: '1',
  'sec-ch-ua-mobile': '?0',
  origin: 'http://localhost:5173',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8'
}
[2026-02-24T17:07:08.507Z] POST /api/user/login
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  'content-length': '56',
  'sec-ch-ua-platform': '"macOS"',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36',
  accept: 'application/json, text/plain, */*',
  'sec-ch-ua': '"Not:A-Brand";v="99", "Google Chrome";v="145", "Chromium";v="145"',
  'content-type': 'application/json',
  dnt: '1',
  'sec-ch-ua-mobile': '?0',
  origin: 'http://localhost:5173',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8'
}
[2026-02-24T17:07:15.498Z] OPTIONS /api/user/login
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  accept: '*/*',
  'access-control-request-method': 'POST',
  'access-control-request-headers': 'content-type',
  origin: 'http://localhost:5173',
  'user-agent': 'Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1',
  'sec-fetch-mode': 'cors',
  'sec-fetch-site': 'same-site',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8'
}
[2026-02-24T17:07:15.500Z] POST /api/user/login
Headers: {
  host: 'localhost:3000',
  connection: 'keep-alive',
  'content-length': '56',
  'sec-ch-ua-platform': '"iOS"',
  'user-agent': 'Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1',
  accept: 'application/json, text/plain, */*',
  'sec-ch-ua': '"Not:A-Brand";v="99", "Google Chrome";v="145", "Chromium";v="145"',
  'content-type': 'application/json',
  dnt: '1',
  'sec-ch-ua-mobile': '?1',
  origin: 'http://localhost:5173',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:5173/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9,fr;q=0.8'
}
