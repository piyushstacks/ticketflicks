[dotenv@17.2.3] injecting env (18) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
[MIGRATE] Script starting...
[MIGRATE] Imports completed
[MIGRATE] Checking if should run migration...
[MIGRATE] import.meta.url: file:///Users/piyushbhagchandani/SDP/SEM%206%20/CODE/movieproj/sdp-dump-2/server/scripts/migrateToNewSchema.js
[MIGRATE] process.argv[1]: /Users/piyushbhagchandani/SDP/SEM 6 /CODE/movieproj/sdp-dump-2/server/scripts/migrateToNewSchema.js
[MIGRATE] üöÄ Starting database migration...
[MIGRATE] Connecting to: mongodb+srv://piyushbhagchandani64:08P5NdHDb5F2CHc4@cluster99.57yjjst.mongodb.net
[MIGRATE] ‚úÖ Connected to MongoDB
[MIGRATE] Starting User migration...
[MIGRATE] ‚úÖ Migrated 5 users
[MIGRATE] Starting Theater migration...
[MIGRATE] ‚ö†Ô∏è Skipping theater PVR Cinemas - Downtown - no manager found
[MIGRATE] ‚ö†Ô∏è Skipping theater IMAX Theater - Central - no manager found
[MIGRATE] ‚ö†Ô∏è Skipping theater Cineplex - Westside - no manager found
[MIGRATE] ‚ö†Ô∏è Skipping theater Carnival Cinemas - Eastside - no manager found
[MIGRATE] ‚ö†Ô∏è Skipping theater PVR Cinema - no manager found
[MIGRATE] ‚ö†Ô∏è Skipping theater INOX - no manager found
[MIGRATE] ‚ö†Ô∏è Skipping theater Cinepolis - no manager found
[MIGRATE] ‚ö†Ô∏è Skipping theater PVR ACROPOLIS - no manager found
[MIGRATE] ‚ö†Ô∏è Skipping theater Banana Connplex - no manager found
[MIGRATE] ‚ö†Ô∏è Skipping theater Test Theatre - no manager found
[MIGRATE] ‚úÖ Migrated 0 theaters
[MIGRATE] Starting Metadata migration (Genres, Languages, Cast)...
[MIGRATE ERROR] Migration failed MongoServerError: E11000 duplicate key error collection: test.genres index: name_1 dup key: { name: "Action" }
    at InsertOneOperation.handleOk (/Users/piyushbhagchandani/SDP/SEM 6 /CODE/movieproj/sdp-dump-2/server/node_modules/mongodb/lib/operations/insert.js:51:19)
    at tryOperation (/Users/piyushbhagchandani/SDP/SEM 6 /CODE/movieproj/sdp-dump-2/server/node_modules/mongodb/lib/operations/execute_operation.js:214:34)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5)
    at async executeOperation (/Users/piyushbhagchandani/SDP/SEM 6 /CODE/movieproj/sdp-dump-2/server/node_modules/mongodb/lib/operations/execute_operation.js:78:16)
    at async Collection.insertOne (/Users/piyushbhagchandani/SDP/SEM 6 /CODE/movieproj/sdp-dump-2/server/node_modules/mongodb/lib/collection.js:154:16) {
  errorLabelSet: Set(0) {},
  errorResponse: {
    index: 0,
    code: 11000,
    errmsg: 'E11000 duplicate key error collection: test.genres index: name_1 dup key: { name: "Action" }',
    keyPattern: { name: 1 },
    keyValue: { name: 'Action' }
  },
  index: 0,
  code: 11000,
  keyPattern: { name: 1 },
  keyValue: { name: 'Action' }
}
